{"ast":null,"code":"import _classCallCheck from \"/Users/Adam/Genepull Template/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/Adam/Genepull Template/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/Adam/Genepull Template/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/Adam/Genepull Template/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/Adam/Genepull Template/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/Adam/Genepull Template/src/components/TargetDetails/profile.js\";\nimport React, { Component } from 'react';\nimport button from '@material-ui/core';\n\nvar TargetDetails =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(TargetDetails, _Component);\n\n  function TargetDetails(props) {\n    var _this;\n\n    _classCallCheck(this, TargetDetails);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(TargetDetails).call(this, props));\n\n    _this.success = function () {\n      _this.setState({\n        submitting: false\n      });\n    };\n\n    _this.failure = function () {\n      _this.setState({\n        submitting: false,\n        error: true\n      });\n    };\n\n    _this.handleCancel = function () {\n      _this.setState({\n        draftText: _this.state.text\n      });\n\n      _this.toggleEditing();\n    };\n\n    _this.handleClickOutside = function (e) {\n      if (_this.wrapperRef && !_this.wrapperRef.contains(e.target)) {\n        _this.toggleEditing();\n      }\n    };\n\n    _this.toggleEditing = function () {\n      // so we can close on outside click\n      if (_this.state.editing) {\n        document.removeEventListener('mousedown', _this.handleClickOutside);\n      } else {\n        document.addEventListener('mousedown', _this.handleClickOutside);\n      }\n\n      _this.setState({\n        editing: !_this.state.editing\n      });\n    };\n\n    _this.handleChange = function (e) {\n      _this.setState({\n        draftText: e.target.value\n      });\n    };\n\n    _this.triggerSubmit = function () {\n      _this.setState({\n        text: _this.state.draftText,\n        submitting: true\n      }); // submit\n      // this.props.submitCallback(this.state.draftText, this.success, this.failure);\n\n    };\n\n    _this.handleKeyDown = function (e) {\n      var enter_key = 13;\n      var escape_key = 27;\n\n      if (e.keyCode == enter_key) {\n        _this.toggleEditing();\n\n        _this.triggerSubmit();\n      } else if (e.keyCode == escape_key) {\n        _this.toggleEditing();\n      }\n    };\n\n    _this.state = {\n      editing: false,\n      submitting: false,\n      draftText: _this.props.description,\n      text: _this.props.description,\n      error: false\n    };\n    _this.success = _this.success;\n    _this.failure = _this.failure;\n    return _this;\n  }\n\n  _createClass(TargetDetails, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var controlLinks;\n      var editing;\n      var textOrInput;\n      var error;\n\n      if (this.state.error) {\n        error = React.createElement(\"span\", {\n          className: \"error\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }, \"error!\");\n      }\n\n      if (this.state.editing) {\n        textOrInput = React.createElement(\"textarea\", {\n          rows: \"5\",\n          cols: \"5\",\n          onChange: this.handleChange,\n          onKeyDown: this.handleKeyDown,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97\n          },\n          __self: this\n        }, this.state.draftText);\n        controlLinks = React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          className: \"edit-link blue-link\",\n          onClick: this.handleCancel,\n          href: \"#\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106\n          },\n          __self: this\n        }, \"CANCEL\"));\n        editing = 'editing';\n      } else {\n        textOrInput = React.createElement(\"span\", {\n          onClick: this.toggleEditing,\n          className: \"text\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112\n          },\n          __self: this\n        }, this.state.text);\n        controlLinks = React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          className: \"edit-link blue-link\",\n          onClick: this.toggleEditing,\n          href: \"#\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113\n          },\n          __self: this\n        }, \"EDIT\"));\n        editing = '';\n      }\n\n      return React.createElement(\"div\", {\n        className: \"TargetDetails\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, this.props.title)), React.createElement(\"div\", {\n        className: \"Thumbnail\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"Card\",\n        src: this.props.thumbnail,\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"\".concat(this.props.className, \" \").concat(editing, \" editable-field\"),\n        ref: function ref(node) {\n          _this2.wrapperRef = node;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, textOrInput, error, controlLinks), React.createElement(\"div\", {\n        className: \"Description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, this.props.description)), React.createElement(\"div\", {\n        className: \"input-field col s12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.props.handleCommentSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"material-icons prefix\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, \"textsms\"), React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: \"Comment...\",\n        className: \"autocomplete\",\n        value: this.props.newComment,\n        onChange: this.props.handleCommentSubmitChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return TargetDetails;\n}(Component);\n\nexport { TargetDetails as default };","map":{"version":3,"sources":["/Users/Adam/Genepull Template/src/components/TargetDetails/profile.js"],"names":["React","Component","button","TargetDetails","props","success","setState","submitting","failure","error","handleCancel","draftText","state","text","toggleEditing","handleClickOutside","e","wrapperRef","contains","target","editing","document","removeEventListener","addEventListener","handleChange","value","triggerSubmit","handleKeyDown","enter_key","escape_key","keyCode","description","controlLinks","textOrInput","title","thumbnail","className","node","handleCommentSubmit","newComment","handleCommentSubmitChange"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport button from '@material-ui/core';\n\nexport default class TargetDetails extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      editing: false,\n      submitting: false,\n      draftText: this.props.description,\n      text: this.props.description,\n      error: false,\n    }\n\n    this.success = this.success;\n    this.failure = this.failure;\n  }\n\n    success = () => {\n        this.setState({submitting: false});\n    }\n\n\n    failure = () => {\n        this.setState({\n            submitting: false,\n            error: true\n        });\n    }\n\n    handleCancel = () => {\n        this.setState({draftText: this.state.text});\n        this.toggleEditing();\n    }\n    \n    handleClickOutside = (e) => {\n      if (this.wrapperRef && !this.wrapperRef.contains(e.target)) {\n          this.toggleEditing();\n      }\n  }\n    toggleEditing = () => {\n        // so we can close on outside click\n        if (this.state.editing) {\n            document.removeEventListener('mousedown', this.handleClickOutside);\n        } else {\n            document.addEventListener('mousedown', this.handleClickOutside);\n        }\n    \n        this.setState({editing: !this.state.editing});\n    }\n\n    handleChange = (e) => {\n        this.setState({draftText: e.target.value});\n\n    }\n\n  // actually submit the request etc.\n    triggerSubmit = () => {\n        this.setState({\n            text: this.state.draftText,\n            submitting: true,\n        });\n\n        // submit\n        // this.props.submitCallback(this.state.draftText, this.success, this.failure);\n    }\n  \n\n  // check for enter or cancel\n    handleKeyDown = (e) => {\n        const enter_key = 13;\n        const escape_key = 27;\n\n        if (e.keyCode == enter_key) {\n        this.toggleEditing();\n        this.triggerSubmit();\n        } else if (e.keyCode == escape_key) {\n        this.toggleEditing();\n        }\n    }\n\n\n  render() {\n    let controlLinks;\n    let editing;\n    let textOrInput;\n    let error;\n      \n    if (this.state.error) {\n      error = <span className=\"error\">error!</span>\n    }\n\n    \n \n    if (this.state.editing) {\n      textOrInput = <textarea rows=\"5\" cols=\"5\" \n                    onChange={this.handleChange}\n                    onKeyDown={this.handleKeyDown}>\n                    {this.state.draftText}\n                    </textarea>\n                     \n\n      controlLinks = (\n        <div>\n          <a className=\"edit-link blue-link\" onClick={this.handleCancel} href=\"#\">CANCEL</a>\n        </div>\n      )\n\n      editing = 'editing';\n    } else {\n      textOrInput = <span onClick={this.toggleEditing} className=\"text\">{this.state.text}</span>\n      controlLinks = <div><a className=\"edit-link blue-link\" onClick={this.toggleEditing} href=\"#\">EDIT</a></div>\n      editing = '';\n    }\n\n    return (\n      <div className=\"TargetDetails\">  \n        <div> \n          <h3>{this.props.title}</h3>\n        </div>\n\n        <div className=\"Thumbnail\"> \n        <img className=\"Card\"  src={this.props.thumbnail} alt=\"\"/> \n        </div>\n       \n\n        <div\n        className={`${this.props.className} ${editing} editable-field`}\n        ref={(node) => { this.wrapperRef = node; }}\n      >\n        {textOrInput}\n        {error}\n        {controlLinks}\n      </div>\n\n      <div className=\"Description\"> \n          {/* This properly recieves a state update from the parent */}\n          <p>{this.props.description}</p>\n          {/* {TheDescriptionItem} */}\n          </div>\n \n\n\n        <div className=\"input-field col s12\">\n          <form onSubmit={this.props.handleCommentSubmit}>\n          <i className=\"material-icons prefix\">textsms</i>\n          <input type=\"text\" placeholder=\"Comment...\" className=\"autocomplete\" value={this.props.newComment} onChange={this.props.handleCommentSubmitChange}/>\n          </form>\n\n        </div>\n\n      </div>\n    )\n  }\n}\n\n\n"]},"metadata":{},"sourceType":"module"}