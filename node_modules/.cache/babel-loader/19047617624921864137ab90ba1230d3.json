{"ast":null,"code":"import _classCallCheck from \"/Users/Adam/Genepull Template/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/Adam/Genepull Template/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/Adam/Genepull Template/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/Adam/Genepull Template/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/Adam/Genepull Template/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/Adam/Genepull Template/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/Adam/Genepull Template/src/pages/profile/Home/example.js\";\nimport React, { PropTypes } from 'react';\n\nvar EditableField =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(EditableField, _React$Component);\n\n  function EditableField(props) {\n    var _this;\n\n    _classCallCheck(this, EditableField);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(EditableField).call(this, props));\n\n    _this.success = function () {\n      _this.setState({\n        submitting: false\n      });\n    };\n\n    _this.failure = function () {\n      _this.setState({\n        submitting: false,\n        error: true\n      });\n    };\n\n    _this.handleClickOutside = function (e) {\n      if (_this.wrapperRef && !_this.wrapperRef.contains(e.target)) {\n        _this.toggleEditing();\n      }\n    };\n\n    _this.state = {\n      editing: false,\n      submitting: false,\n      draftText: _this.props.text,\n      text: _this.props.text,\n      error: false\n    };\n    _this.handleCancel = _this.handleCancel.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleClickOutside = _this.handleClickOutside.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleKeyDown = _this.handleKeyDown.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.toggleEditing = _this.toggleEditing.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.triggerSubmit = _this.triggerSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.success = _this.success;\n    _this.failure = _this.failure;\n    return _this;\n  }\n\n  _createClass(EditableField, [{\n    key: \"handleCancel\",\n    // handleClickOutside(e) {\n    //     if (this.wrapperRef && !this.wrapperRef.contains(e.target)) {\n    //       this.toggleEditing();\n    //     }\n    //   }\n    value: function handleCancel(e) {\n      this.setState({\n        draftText: this.state.text\n      });\n      this.toggleEditing();\n    }\n  }, {\n    key: \"toggleEditing\",\n    value: function toggleEditing() {\n      // so we can close on outside click\n      if (this.state.editing) {\n        document.removeEventListener('mousedown', this.handleClickOutside);\n      } else {\n        document.addEventListener('mousedown', this.handleClickOutside);\n      }\n\n      this.setState({\n        editing: !this.state.editing\n      });\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(e) {\n      this.setState({\n        draftText: e.target.value\n      });\n    } // actually submit the request etc.\n\n  }, {\n    key: \"triggerSubmit\",\n    value: function triggerSubmit() {\n      this.setState({\n        text: this.state.draftText,\n        submitting: true\n      }); // submit\n      // this.props.submitCallback(this.state.draftText, this.success, this.failure);\n    } // check for enter or cancel\n\n  }, {\n    key: \"handleKeyDown\",\n    value: function handleKeyDown(e) {\n      var enter_key = 13;\n      var escape_key = 27;\n\n      if (e.keyCode == enter_key) {\n        this.toggleEditing();\n        this.triggerSubmit();\n      } else if (e.keyCode == escape_key) {\n        this.toggleEditing();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var controlLinks;\n      var editing;\n      var textOrInput;\n      var error;\n\n      if (this.state.error) {\n        error = React.createElement(\"span\", {\n          className: \"error\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116\n          },\n          __self: this\n        }, \"error!\");\n      }\n\n      if (this.state.editing) {\n        textOrInput = React.createElement(\"input\", {\n          autoFocus: true,\n          type: \"text\",\n          id: this.props.id,\n          onChange: this.handleChange,\n          onKeyDown: this.handleKeyDown,\n          value: this.state.draftText,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122\n          },\n          __self: this\n        });\n        controlLinks = React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 132\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          className: \"edit-link blue-link\",\n          onClick: this.handleCancel,\n          href: \"#\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133\n          },\n          __self: this\n        }, \"CANCEL\"));\n        editing = 'editing';\n      } else {\n        textOrInput = React.createElement(\"span\", {\n          className: \"text\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139\n          },\n          __self: this\n        }, this.state.text);\n        controlLinks = React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          className: \"edit-link blue-link\",\n          onClick: this.toggleEditing,\n          href: \"#\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140\n          },\n          __self: this\n        }, \"EDIT\"));\n        editing = '';\n      }\n\n      return React.createElement(\"div\", {\n        className: \"\".concat(this.props.className, \" \").concat(editing, \" editable-field\"),\n        ref: function ref(node) {\n          _this2.wrapperRef = node;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, textOrInput, error, controlLinks);\n    }\n  }]);\n\n  return EditableField;\n}(React.Component);\n\nexport { EditableField as default };","map":{"version":3,"sources":["/Users/Adam/Genepull Template/src/pages/profile/Home/example.js"],"names":["React","PropTypes","EditableField","props","success","setState","submitting","failure","error","handleClickOutside","e","wrapperRef","contains","target","toggleEditing","state","editing","draftText","text","handleCancel","bind","handleKeyDown","handleChange","triggerSubmit","document","removeEventListener","addEventListener","value","enter_key","escape_key","keyCode","controlLinks","textOrInput","id","className","node","Component"],"mappings":"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","sourcesContent":["import React, {PropTypes} from 'react';\n\nexport default class EditableField extends React.Component {\n  propTypes: {\n    className: React.PropTypes.string,\n    text: React.PropTypes.string,\n    fieldType: React.PropTypes.string,\n    submitCallback: React.PropTypes.func,\n  }\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      editing: false,\n      submitting: false,\n      draftText: this.props.text,\n      text: this.props.text,\n      error: false,\n    }\n\n    this.handleCancel = this.handleCancel.bind(this);\n    this.handleClickOutside = this.handleClickOutside.bind(this);\n    this.handleKeyDown = this.handleKeyDown.bind(this);\n    this.toggleEditing = this.toggleEditing.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.triggerSubmit = this.triggerSubmit.bind(this);\n    this.success = this.success;\n    this.failure = this.failure;\n  }\n\n    success = () => {\n        this.setState({submitting: false});\n    }\n\n//   success() {\n//     this.setState({submitting: false});\n//   }\n\n\nfailure = () => {\n    this.setState({\n        submitting: false,\n        error: true\n      });\n}\n//   failure() {\n//     this.setState({\n//       submitting: false,\n//       error: true\n//     });\n//   }\n\nhandleClickOutside = (e) => {\n    if (this.wrapperRef && !this.wrapperRef.contains(e.target)) {\n        this.toggleEditing();\n      }\n}\n  \n// handleClickOutside(e) {\n//     if (this.wrapperRef && !this.wrapperRef.contains(e.target)) {\n//       this.toggleEditing();\n//     }\n//   }\n\n  handleCancel(e) {\n    this.setState({draftText: this.state.text});\n    this.toggleEditing();\n  }\n\n  toggleEditing() {\n    // so we can close on outside click\n    if (this.state.editing) {\n      document.removeEventListener('mousedown', this.handleClickOutside);\n    } else {\n      document.addEventListener('mousedown', this.handleClickOutside);\n    }\n\n    this.setState({editing: !this.state.editing});\n  }\n\n  handleChange(e) {\n    this.setState({draftText: e.target.value});\n  }\n\n  // actually submit the request etc.\n  triggerSubmit() {\n    this.setState({\n      text: this.state.draftText,\n      submitting: true,\n    });\n    // submit\n    // this.props.submitCallback(this.state.draftText, this.success, this.failure);\n  }\n\n  // check for enter or cancel\n  handleKeyDown(e) {\n    const enter_key = 13;\n    const escape_key = 27;\n\n    if (e.keyCode == enter_key) {\n      this.toggleEditing();\n      this.triggerSubmit();\n    } else if (e.keyCode == escape_key) {\n      this.toggleEditing();\n    }\n  }\n\n  render() {\n    let controlLinks;\n    let editing;\n    let textOrInput;\n    let error;\n\n    if (this.state.error) {\n      error = <span className=\"error\">error!</span>\n    }\n\n    \n\n    if (this.state.editing) {\n      textOrInput = <input\n                      autoFocus\n                      type=\"text\"\n                      id={this.props.id}\n                      onChange={this.handleChange}\n                      onKeyDown={this.handleKeyDown}\n                      value={this.state.draftText}\n                    />\n\n      controlLinks = (\n        <div>\n          <a className=\"edit-link blue-link\" onClick={this.handleCancel} href=\"#\">CANCEL</a>\n        </div>\n      )\n\n      editing = 'editing';\n    } else {\n      textOrInput = <span className=\"text\">{this.state.text}</span>\n      controlLinks = <div><a className=\"edit-link blue-link\" onClick={this.toggleEditing} href=\"#\">EDIT</a></div>\n      editing = '';\n    }\n\n    return (\n\n      <div\n        className={`${this.props.className} ${editing} editable-field`}\n        ref={(node) => { this.wrapperRef = node; }}\n      >\n        {textOrInput}\n        {error}\n        {controlLinks}\n      </div>\n    );\n  }\n}"]},"metadata":{},"sourceType":"module"}